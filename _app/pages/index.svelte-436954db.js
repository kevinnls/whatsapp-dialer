import{S as U,i as q,s as W,e as _,t as D,c as m,a as E,h as L,d as c,b as v,g as C,J as p,L as j,M as F,K as M,D as oe,N as G,O as Q,w as V,k as I,x as J,m as O,y as z,P as X,q as Y,o as Z,B as x,j as re,Q as le,R as se,T as ie,U as ue}from"../chunks/vendor-357156e5.js";function ce(o){let e,t,n,l,s;return{c(){e=_("label"),t=D("+"),n=_("input"),this.h()},l(a){e=m(a,"LABEL",{for:!0});var r=E(e);t=L(r,"+"),n=m(r,"INPUT",{name:!0,type:!0,class:!0}),r.forEach(c),this.h()},h(){v(n,"name","country-code"),v(n,"type","text"),v(n,"class","svelte-oi8b78"),v(e,"for","country-code")},m(a,r){C(a,e,r),p(e,t),p(e,n),j(n,o[0]),l||(s=F(n,"input",o[2]),l=!0)},p(a,[r]){r&1&&n.value!==a[0]&&j(n,a[0])},i:M,o:M,d(a){a&&c(e),l=!1,s()}}}function de(o,e,t){let{countryCode:n=""}=e,{valid:l=!1}=e;function s(){n=this.value,t(0,n)}return o.$$set=a=>{"countryCode"in a&&t(0,n=a.countryCode),"valid"in a&&t(1,l=a.valid)},o.$$.update=()=>{o.$$.dirty&1&&t(1,l=/[0-9]{1,4}/.test(n))},[n,l,s]}class fe extends U{constructor(e){super();q(this,e,de,ce,W,{countryCode:0,valid:1})}}function he(o){let e,t,n,l;return{c(){e=_("label"),t=_("input"),this.h()},l(s){e=m(s,"LABEL",{for:!0});var a=E(e);t=m(a,"INPUT",{name:!0,type:!0}),a.forEach(c),this.h()},h(){v(t,"name","phone-number"),v(t,"type","text"),v(e,"for","phone-number")},m(s,a){C(s,e,a),p(e,t),j(t,o[0]),n||(l=F(t,"input",o[2]),n=!0)},p(s,[a]){a&1&&t.value!==s[0]&&j(t,s[0])},i:M,o:M,d(s){s&&c(e),n=!1,l()}}}function pe(o,e,t){let{phoneNumber:n=""}=e,{valid:l=!1}=e;function s(){n=this.value,t(0,n)}return o.$$set=a=>{"phoneNumber"in a&&t(0,n=a.phoneNumber),"valid"in a&&t(1,l=a.valid)},o.$$.update=()=>{o.$$.dirty&1&&t(1,l=/[0-9]{3,15}/.test(n))},[n,l,s]}class _e extends U{constructor(e){super();q(this,e,pe,he,W,{phoneNumber:0,valid:1})}}const me=o=>new Array(...new Set(o));function ve(){const o=localStorage.getItem("history")?localStorage.getItem("history").split(","):[],{subscribe:e,set:t,update:n}=oe(o!=null?o:[]);return{subscribe:e,reset:()=>t([]),add:l=>{n(s=>{const a=me([l,...s]).slice(0,4);return localStorage.setItem("history",a.toString()),a})},remove:l=>{n(s=>{const a=s.filter(r=>r!==l);return localStorage.setItem("history",a.toString()),a})}}}const ee=ve();function be(o){let e,t,n,l,s,a,r,i,k,b,y,f,N,g,h,S,A;function d(u){o[5](u)}function w(u){o[6](u)}let B={};o[0]!==void 0&&(B.countryCode=o[0]),o[2]!==void 0&&(B.valid=o[2]),n=new fe({props:B}),G.push(()=>Q(n,"countryCode",d)),G.push(()=>Q(n,"valid",w));function K(u){o[7](u)}function H(u){o[8](u)}let P={};return o[1]!==void 0&&(P.phoneNumber=o[1]),o[3]!==void 0&&(P.valid=o[3]),r=new _e({props:P}),G.push(()=>Q(r,"phoneNumber",K)),G.push(()=>Q(r,"valid",H)),{c(){e=_("form"),t=_("section"),V(n.$$.fragment),a=I(),V(r.$$.fragment),b=I(),y=_("section"),f=_("button"),N=D("Go to chat!"),this.h()},l(u){e=m(u,"FORM",{name:!0,class:!0});var $=E(e);t=m($,"SECTION",{class:!0});var T=E(t);J(n.$$.fragment,T),a=O(T),J(r.$$.fragment,T),T.forEach(c),b=O($),y=m($,"SECTION",{class:!0});var R=E(y);f=m(R,"BUTTON",{class:!0});var te=E(f);N=L(te,"Go to chat!"),te.forEach(c),R.forEach(c),$.forEach(c),this.h()},h(){v(t,"class","svelte-i97wns"),f.disabled=g=!(o[2]&&o[3]),v(f,"class","svelte-i97wns"),v(y,"class","svelte-i97wns"),v(e,"name","dialer"),v(e,"class","svelte-i97wns")},m(u,$){C(u,e,$),p(e,t),z(n,t,null),p(t,a),z(r,t,null),p(e,b),p(e,y),p(y,f),p(f,N),h=!0,S||(A=F(f,"click",o[4]),S=!0)},p(u,[$]){const T={};!l&&$&1&&(l=!0,T.countryCode=u[0],X(()=>l=!1)),!s&&$&4&&(s=!0,T.valid=u[2],X(()=>s=!1)),n.$set(T);const R={};!i&&$&2&&(i=!0,R.phoneNumber=u[1],X(()=>i=!1)),!k&&$&8&&(k=!0,R.valid=u[3],X(()=>k=!1)),r.$set(R),(!h||$&12&&g!==(g=!(u[2]&&u[3])))&&(f.disabled=g)},i(u){h||(Y(n.$$.fragment,u),Y(r.$$.fragment,u),h=!0)},o(u){Z(n.$$.fragment,u),Z(r.$$.fragment,u),h=!1},d(u){u&&c(e),x(n),x(r),S=!1,A()}}}function ye(o,e,t){let n,l,s,a;const r=()=>{ee.add(`${n}:${l}`),open(`https://api.whatsapp.com/send?phone=${n}${l}`)};function i(f){n=f,t(0,n)}function k(f){s=f,t(2,s)}function b(f){l=f,t(1,l)}function y(f){a=f,t(3,a)}return[n,l,s,a,r,i,k,b,y]}class ge extends U{constructor(e){super();q(this,e,ye,be,W,{})}}function ne(o,e,t){const n=o.slice();return n[2]=e[t],n}function ae(o,e){let t,n,l=`+${e[2].replace(":"," ")}`,s,a,r,i,k,b,y,f;function N(){return e[1](e[2])}return{key:o,first:null,c(){t=_("p"),n=_("a"),s=D(l),r=I(),i=_("button"),k=D("\u{1F5D1}\uFE0F"),b=I(),this.h()},l(g){t=m(g,"P",{});var h=E(t);n=m(h,"A",{href:!0});var S=E(n);s=L(S,l),S.forEach(c),r=O(h),i=m(h,"BUTTON",{});var A=E(i);k=L(A,"\u{1F5D1}\uFE0F"),A.forEach(c),b=O(h),h.forEach(c),this.h()},h(){v(n,"href",a=`https://api.whatsapp.com/send?phone=${e[2].replace(":","")}`),this.first=t},m(g,h){C(g,t,h),p(t,n),p(n,s),p(t,r),p(t,i),p(i,k),p(t,b),y||(f=F(i,"click",N),y=!0)},p(g,h){e=g,h&1&&l!==(l=`+${e[2].replace(":"," ")}`)&&re(s,l),h&1&&a!==(a=`https://api.whatsapp.com/send?phone=${e[2].replace(":","")}`)&&v(n,"href",a)},d(g){g&&c(t),y=!1,f()}}}function Ee(o){let e,t=[],n=new Map,l=o[0];const s=a=>a[2];for(let a=0;a<l.length;a+=1){let r=ne(o,l,a),i=s(r);n.set(i,t[a]=ae(i,r))}return{c(){e=_("section");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=m(a,"SECTION",{id:!0,class:!0});var r=E(e);for(let i=0;i<t.length;i+=1)t[i].l(r);r.forEach(c),this.h()},h(){v(e,"id","history"),v(e,"class","svelte-1f4ua4d")},m(a,r){C(a,e,r);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(a,[r]){r&1&&(l=a[0],t=le(t,r,s,1,a,l,n,e,ie,ae,null,ne))},i:M,o:M,d(a){a&&c(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function $e(o,e,t){let n;return se(o,ee,s=>t(0,n=s)),[n,s=>ee.remove(s)]}class ke extends U{constructor(e){super();q(this,e,$e,Ee,W,{})}}function Ne(o){let e,t,n,l,s,a,r,i,k,b,y,f,N,g,h,S,A;return i=new ge({}),b=new ke({}),{c(){e=_("meta"),t=I(),n=_("header"),l=_("h1"),s=D("WhatsApp Dialer"),a=I(),r=_("main"),V(i.$$.fragment),k=I(),V(b.$$.fragment),y=I(),f=_("footer"),N=_("small"),g=D("\xA9 2022 Kevin Samuel "),h=_("a"),S=D("<developer@kevinnlsamuel.com>"),this.h()},l(d){const w=ue('[data-svelte="svelte-1p5sqwv"]',document.head);e=m(w,"META",{name:!0,content:!0}),w.forEach(c),t=O(d),n=m(d,"HEADER",{});var B=E(n);l=m(B,"H1",{});var K=E(l);s=L(K,"WhatsApp Dialer"),K.forEach(c),B.forEach(c),a=O(d),r=m(d,"MAIN",{});var H=E(r);J(i.$$.fragment,H),k=O(H),J(b.$$.fragment,H),H.forEach(c),y=O(d),f=m(d,"FOOTER",{});var P=E(f);N=m(P,"SMALL",{});var u=E(N);g=L(u,"\xA9 2022 Kevin Samuel "),h=m(u,"A",{href:!0});var $=E(h);S=L($,"<developer@kevinnlsamuel.com>"),$.forEach(c),u.forEach(c),P.forEach(c),this.h()},h(){document.title="WhatsApp Dialer",v(e,"name","description"),v(e,"content","Quickly start a WhatsApp conversation without needing to save a contact"),v(h,"href","mailto:developer+whatsappdialer@kevinnlsamuel.com")},m(d,w){p(document.head,e),C(d,t,w),C(d,n,w),p(n,l),p(l,s),C(d,a,w),C(d,r,w),z(i,r,null),p(r,k),z(b,r,null),C(d,y,w),C(d,f,w),p(f,N),p(N,g),p(N,h),p(h,S),A=!0},p:M,i(d){A||(Y(i.$$.fragment,d),Y(b.$$.fragment,d),A=!0)},o(d){Z(i.$$.fragment,d),Z(b.$$.fragment,d),A=!1},d(d){c(e),d&&c(t),d&&c(n),d&&c(a),d&&c(r),x(i),x(b),d&&c(y),d&&c(f)}}}class Ce extends U{constructor(e){super();q(this,e,null,Ne,W,{})}}export{Ce as default};
