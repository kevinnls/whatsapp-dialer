import{S as P,i as R,s as U,e as m,t as A,c as v,a as $,h as T,d as f,b,g as w,J as h,L as q,M as F,K as I,D as oe,N as G,O as V,w as W,k as O,x as J,m as L,y as Q,P as z,q as X,o as Y,B as Z,j as ae,Q as le,R as se,T as ie}from"../chunks/vendor-d95e6f8d.js";function ue(o){let e,t,r,l,a;return{c(){e=m("label"),t=A("+"),r=m("input"),this.h()},l(n){e=v(n,"LABEL",{for:!0});var s=$(e);t=T(s,"+"),r=v(s,"INPUT",{name:!0,type:!0,class:!0}),s.forEach(f),this.h()},h(){b(r,"name","country-code"),b(r,"type","text"),b(r,"class","svelte-oi8b78"),b(e,"for","country-code")},m(n,s){w(n,e,s),h(e,t),h(e,r),q(r,o[0]),l||(a=F(r,"input",o[2]),l=!0)},p(n,[s]){s&1&&r.value!==n[0]&&q(r,n[0])},i:I,o:I,d(n){n&&f(e),l=!1,a()}}}function ce(o,e,t){let{countryCode:r=""}=e,{valid:l=!1}=e;function a(){r=this.value,t(0,r)}return o.$$set=n=>{"countryCode"in n&&t(0,r=n.countryCode),"valid"in n&&t(1,l=n.valid)},o.$$.update=()=>{o.$$.dirty&1&&t(1,l=/[0-9]{1,4}/.test(r))},[r,l,a]}class fe extends P{constructor(e){super();R(this,e,ce,ue,U,{countryCode:0,valid:1})}}function de(o){let e,t,r,l;return{c(){e=m("label"),t=m("input"),this.h()},l(a){e=v(a,"LABEL",{for:!0});var n=$(e);t=v(n,"INPUT",{name:!0,type:!0}),n.forEach(f),this.h()},h(){b(t,"name","phone-number"),b(t,"type","text"),b(e,"for","phone-number")},m(a,n){w(a,e,n),h(e,t),q(t,o[0]),r||(l=F(t,"input",o[2]),r=!0)},p(a,[n]){n&1&&t.value!==a[0]&&q(t,a[0])},i:I,o:I,d(a){a&&f(e),r=!1,l()}}}function he(o,e,t){let{phoneNumber:r=""}=e,{valid:l=!1}=e;function a(){r=this.value,t(0,r)}return o.$$set=n=>{"phoneNumber"in n&&t(0,r=n.phoneNumber),"valid"in n&&t(1,l=n.valid)},o.$$.update=()=>{o.$$.dirty&1&&t(1,l=/[0-9]{3,15}/.test(r))},[r,l,a]}class pe extends P{constructor(e){super();R(this,e,he,de,U,{phoneNumber:0,valid:1})}}const _e=o=>new Array(...new Set(o));function me(){const o=localStorage.getItem("history")?localStorage.getItem("history").split(","):[],{subscribe:e,set:t,update:r}=oe(o!=null?o:[]);return{subscribe:e,reset:()=>t([]),add:l=>{r(a=>{const n=_e([l,...a]).slice(0,4);return localStorage.setItem("history",n.toString()),n})},remove:l=>{r(a=>{const n=a.filter(s=>s!==l);return localStorage.setItem("history",n.toString()),n})}}}const ee=me();function ve(o){let e,t,r,l,a,n,s,i,E,y,_,d,k,g,p,u,N;function K(c){o[5](c)}function D(c){o[6](c)}let B={};o[0]!==void 0&&(B.countryCode=o[0]),o[2]!==void 0&&(B.valid=o[2]),r=new fe({props:B}),G.push(()=>V(r,"countryCode",K)),G.push(()=>V(r,"valid",D));function M(c){o[7](c)}function j(c){o[8](c)}let x={};return o[1]!==void 0&&(x.phoneNumber=o[1]),o[3]!==void 0&&(x.valid=o[3]),s=new pe({props:x}),G.push(()=>V(s,"phoneNumber",M)),G.push(()=>V(s,"valid",j)),{c(){e=m("form"),t=m("section"),W(r.$$.fragment),n=O(),W(s.$$.fragment),y=O(),_=m("section"),d=m("button"),k=A("Go to chat!"),this.h()},l(c){e=v(c,"FORM",{name:!0,class:!0});var C=$(e);t=v(C,"SECTION",{class:!0});var S=$(t);J(r.$$.fragment,S),n=L(S),J(s.$$.fragment,S),S.forEach(f),y=L(C),_=v(C,"SECTION",{class:!0});var H=$(_);d=v(H,"BUTTON",{class:!0});var te=$(d);k=T(te,"Go to chat!"),te.forEach(f),H.forEach(f),C.forEach(f),this.h()},h(){b(t,"class","svelte-i97wns"),d.disabled=g=!(o[2]&&o[3]),b(d,"class","svelte-i97wns"),b(_,"class","svelte-i97wns"),b(e,"name","dialer"),b(e,"class","svelte-i97wns")},m(c,C){w(c,e,C),h(e,t),Q(r,t,null),h(t,n),Q(s,t,null),h(e,y),h(e,_),h(_,d),h(d,k),p=!0,u||(N=F(d,"click",o[4]),u=!0)},p(c,[C]){const S={};!l&&C&1&&(l=!0,S.countryCode=c[0],z(()=>l=!1)),!a&&C&4&&(a=!0,S.valid=c[2],z(()=>a=!1)),r.$set(S);const H={};!i&&C&2&&(i=!0,H.phoneNumber=c[1],z(()=>i=!1)),!E&&C&8&&(E=!0,H.valid=c[3],z(()=>E=!1)),s.$set(H),(!p||C&12&&g!==(g=!(c[2]&&c[3])))&&(d.disabled=g)},i(c){p||(X(r.$$.fragment,c),X(s.$$.fragment,c),p=!0)},o(c){Y(r.$$.fragment,c),Y(s.$$.fragment,c),p=!1},d(c){c&&f(e),Z(r),Z(s),u=!1,N()}}}function be(o,e,t){let r,l,a,n;const s=()=>{ee.add(`${r}:${l}`),open(`https://api.whatsapp.com/send?phone=${r}${l}`)};function i(d){r=d,t(0,r)}function E(d){a=d,t(2,a)}function y(d){l=d,t(1,l)}function _(d){n=d,t(3,n)}return[r,l,a,n,s,i,E,y,_]}class ye extends P{constructor(e){super();R(this,e,be,ve,U,{})}}function ne(o,e,t){const r=o.slice();return r[2]=e[t],r}function re(o,e){let t,r,l=`+${e[2].replace(":"," ")}`,a,n,s,i,E,y,_,d;function k(){return e[1](e[2])}return{key:o,first:null,c(){t=m("p"),r=m("a"),a=A(l),s=O(),i=m("button"),E=A("\u{1F5D1}\uFE0F"),y=O(),this.h()},l(g){t=v(g,"P",{});var p=$(t);r=v(p,"A",{href:!0});var u=$(r);a=T(u,l),u.forEach(f),s=L(p),i=v(p,"BUTTON",{});var N=$(i);E=T(N,"\u{1F5D1}\uFE0F"),N.forEach(f),y=L(p),p.forEach(f),this.h()},h(){b(r,"href",n=`https://api.whatsapp.com/send?phone=${e[2].replace(":","")}`),this.first=t},m(g,p){w(g,t,p),h(t,r),h(r,a),h(t,s),h(t,i),h(i,E),h(t,y),_||(d=F(i,"click",k),_=!0)},p(g,p){e=g,p&1&&l!==(l=`+${e[2].replace(":"," ")}`)&&ae(a,l),p&1&&n!==(n=`https://api.whatsapp.com/send?phone=${e[2].replace(":","")}`)&&b(r,"href",n)},d(g){g&&f(t),_=!1,d()}}}function ge(o){let e,t=[],r=new Map,l=o[0];const a=n=>n[2];for(let n=0;n<l.length;n+=1){let s=ne(o,l,n),i=a(s);r.set(i,t[n]=re(i,s))}return{c(){e=m("section");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=v(n,"SECTION",{id:!0,class:!0});var s=$(e);for(let i=0;i<t.length;i+=1)t[i].l(s);s.forEach(f),this.h()},h(){b(e,"id","history"),b(e,"class","svelte-1f4ua4d")},m(n,s){w(n,e,s);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(n,[s]){s&1&&(l=n[0],t=le(t,s,a,1,n,l,r,e,ie,re,null,ne))},i:I,o:I,d(n){n&&f(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function $e(o,e,t){let r;return se(o,ee,a=>t(0,r=a)),[r,a=>ee.remove(a)]}class Ee extends P{constructor(e){super();R(this,e,$e,ge,U,{})}}function Ne(o){let e,t,r,l,a,n,s,i,E,y,_,d,k,g,p;return n=new ye({}),i=new Ee({}),{c(){e=m("header"),t=m("h1"),r=A("WhatsApp Dialer"),l=O(),a=m("main"),W(n.$$.fragment),s=O(),W(i.$$.fragment),E=O(),y=m("footer"),_=m("small"),d=A("\xA9 2022 Kevin Samuel "),k=m("a"),g=A("<developer@kevinnlsamuel.com>"),this.h()},l(u){e=v(u,"HEADER",{});var N=$(e);t=v(N,"H1",{});var K=$(t);r=T(K,"WhatsApp Dialer"),K.forEach(f),N.forEach(f),l=L(u),a=v(u,"MAIN",{});var D=$(a);J(n.$$.fragment,D),s=L(D),J(i.$$.fragment,D),D.forEach(f),E=L(u),y=v(u,"FOOTER",{});var B=$(y);_=v(B,"SMALL",{});var M=$(_);d=T(M,"\xA9 2022 Kevin Samuel "),k=v(M,"A",{href:!0});var j=$(k);g=T(j,"<developer@kevinnlsamuel.com>"),j.forEach(f),M.forEach(f),B.forEach(f),this.h()},h(){b(k,"href","mailto:developer+whatsappdialer@kevinnlsamuel.com")},m(u,N){w(u,e,N),h(e,t),h(t,r),w(u,l,N),w(u,a,N),Q(n,a,null),h(a,s),Q(i,a,null),w(u,E,N),w(u,y,N),h(y,_),h(_,d),h(_,k),h(k,g),p=!0},p:I,i(u){p||(X(n.$$.fragment,u),X(i.$$.fragment,u),p=!0)},o(u){Y(n.$$.fragment,u),Y(i.$$.fragment,u),p=!1},d(u){u&&f(e),u&&f(l),u&&f(a),Z(n),Z(i),u&&f(E),u&&f(y)}}}class Ce extends P{constructor(e){super();R(this,e,null,Ne,U,{})}}export{Ce as default};
